void entite_voyageur::on_pb_pdf_clicked()
{
    QString strStream;
                       QTextStream out(&strStream);
                       const int rowCount = ui->tab_voyageur->model()->rowCount();
                       const int columnCount =ui->tab_voyageur->model()->columnCount();


                       out <<  "<html>\n"
                               "<head>\n"
                               "<meta Content=\"Text/html; charset=Windows-1251\">\n"
                               <<  QString("<title>%1</title>\n").arg("eleve")
                               <<  "</head>\n"
                               "<body bgcolor=#CFC4E1 link=#5000A0>\n"
                                   "<h1>Liste des Evenements</h1>"

                                   "<table border=1 cellspacing=0 cellpadding=2>\n";

                       // headers
                           out << "<thead><tr bgcolor=#f0f0f0>";
                           for (int column = 0; column < columnCount; column++)
                               if (!ui->tab_voyageur->isColumnHidden(column))
                                   out << QString("<th>%1</th>").arg(ui->tab_voyageur->model()->headerData(column, Qt::Horizontal).toString());
                           out << "</tr></thead>\n";
                           // data table
                              for (int row = 0; row < rowCount; row++) {
                                  out << "<tr>";
                                  for (int column = 0; column < columnCount; column++) {
                                      if (!ui->tab_voyageur->isColumnHidden(column)) {
                                          QString data = ui->tab_voyageur->model()->data(ui->tab_voyageur->model()->index(row, column)).toString().simplified();
                                          out << QString("<td bkcolor=0>%1</td>").arg((!data.isEmpty()) ? data : QString("&nbsp;"));
                                      }
                                  }
                                  out << "</tr>\n";
                              }
                              out <<  "</table>\n"
                                  "</body>\n"
                                  "</html>\n";



               QTextDocument *document = new QTextDocument();
               document->setHtml(strStream);


               //QTextDocument document;
               //document.setHtml(html);
               QPrinter printer(QPrinter::PrinterResolution);
               printer.setOutputFormat(QPrinter::PdfFormat);
               printer.setOutputFileName("Voyageur.pdf");
               document->print(&printer);


}